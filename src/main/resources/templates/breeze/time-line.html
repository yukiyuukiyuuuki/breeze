<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{layout :: head(„É≠„Ç∞„Ç§„É≥)}"></head>
    <body>
        <div th:replace="~{layout :: header}"></div>
        <div id="parent">
            <div id="child1">
                <!--„É≠„Ç∞„Ç¢„Ç¶„Éà„Åó„Å¶„ÅÑ„Çã„Å®„Åç„Å´Ë°®Á§∫-->
                <form
                    sec:authorize="isAnonymous()"
                    th:action="@{/login}"
                    method="get"
                >
                    <button type="submit" id="button">„É≠„Ç∞„Ç§„É≥</button>
                </form>
                <!--„É≠„Ç∞„Ç§„É≥„Åó„Å¶„ÅÑ„Çã„Å®„Åç„Å´Ë°®Á§∫-->
                <form
                    sec:authorize="isAuthenticated()"
                    th:action="@{/check-logout}"
                    method="get"
                >
                    <button type="submit" id="button">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
                </form>
                <form
                    sec:authorize="isAuthenticated()"
                    th:action="@{/check-delete}"
                    method="get"
                >
                    <button type="submit" id="button">ÈÄÄ‰ºö</button>
                </form>
            </div>
            <div id="child2">
                <table id="th">
                    <tbody>
                        <tr th:each="Whisper : ${whispers}">
                            <!-- TODO Èï∑Êñá„É¨„Éì„É•„Éº„Å´Êé®Áßª„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã -->
                            <form
                                th:action="@{/breeze/{WhisperId}(WhisperId=${Whisper.WhisperId})}"
                                method="get"
                            >
                                <th>
                                    <span
                                        th:text="${Whisper.name}"
                                        th:unless="${Whisper.anonymous}"
                                    ></span>
                                    <span th:if="${Whisper.anonymous}"
                                        >Whisperer</span
                                    >
                                    <span th:text="${Whisper.postDate}"
                                        >yyyy-MM-dd</span
                                    >
                                    <button
                                        type="submit"
                                        th:if="${userId == Whisper.userId}"
                                    >
                                        Á∑®ÈõÜ
                                    </button>
                                </th>
                                <td>
                                    <span th:text="${Whisper.text}">text</span>
                                </td>
                                <td>
                                    <!-- TODO style -->
                                    <button
                                        type="submit"
                                        th:if="${#strings.length(Whisper.text) >= 150}"
                                    >
                                        Á∂ö„Åç„ÇíË¶ã„Çã
                                    </button>
                                </td>
                            </form>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div sec:authorize="isAuthenticated()" id="child3">
                <form th:action="@{/breeze/whisper}" method="get">
                    <div>
                        <button type="submit" id="button">Êñ∞Ë¶èÊäïÁ®øüñã</button>
                    </div>
                </form>
            </div>
        </div>
        <div th:replace="~{layout :: footer}"></div>
    </body>
</html>
