<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{layout :: head(breeze)}"></head>
    <body>
        <div th:replace="~{layout :: header}"></div>
        <div id="parent">
            <div id="child1">
                <!--„É≠„Ç∞„Ç¢„Ç¶„Éà„Åó„Å¶„ÅÑ„Çã„Å®„Åç„Å´Ë°®Á§∫-->
                <form
                    sec:authorize="isAnonymous()"
                    th:action="@{/login}"
                    method="get"
                >
                    <button type="submit" id="button">„É≠„Ç∞„Ç§„É≥</button>
                </form>
                <!--„É≠„Ç∞„Ç§„É≥„Åó„Å¶„ÅÑ„Çã„Å®„Åç„Å´Ë°®Á§∫-->
                <form
                    sec:authorize="isAuthenticated()"
                    th:action="@{/check-logout}"
                    method="get"
                >
                    <button type="submit" id="button">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
                </form>
                <form
                    sec:authorize="isAuthenticated()"
                    th:action="@{/check-delete}"
                    method="get"
                >
                    <button type="submit" id="button">ÈÄÄ ‰ºö</button>
                </form>
            </div>
            <div id="child2">
                <table id="th">
                    <tbody>
                        <tr th:each="Whisper : ${whispers}">
                            <th>
                                <span
                                    th:text="${Whisper.name}"
                                    th:unless="${Whisper.anonymous}"
                                    class="author-name"
                                ></span>
                                <span
                                    th:if="${Whisper.anonymous}"
                                    class="anonymous-author"
                                    >Whisperer</span
                                >
                                <span
                                    th:text="${Whisper.dateTimeFormat}"
                                    class="date-time"
                                    >yyyy-MM-dd</span
                                >
                                <a
                                    th:href="@{/breeze/edit/{WhisperId}(WhisperId=${Whisper.WhisperId})}"
                                    th:if="${Whisper.userId == userId}"
                                    id="time-line-more"
                                >
                                    Á∑®ÈõÜ
                                </a>
                            </th>
                            <td id="time-line">
                                <span th:text="${Whisper.text}">text</span>
                            </td>
                            <td>
                                <a
                                    th:href="@{/breeze/view/{WhisperId}(WhisperId=${Whisper.WhisperId})}"
                                    th:if="${#strings.length(Whisper.text) >= 150}"
                                    id="time-line-more"
                                >
                                    Á∂ö„Åç„ÇíË¶ã„Çã
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div sec:authorize="isAuthenticated()" id="child3">
                <form th:action="@{/breeze/whisper}" method="get">
                    <div>
                        <button type="submit" id="button">Êñ∞Ë¶èÊäïÁ®øüñã</button>
                    </div>
                </form>
            </div>
        </div>
        <div th:replace="~{layout :: footer}"></div>
    </body>
</html>
